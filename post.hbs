{{!< default}}

{{#post}}
<article class="gh-post {{post_class}}">

    <header class="gh-header gh-canvas">
        {{#if feature_image}}
            <img class="gh-image" src="{{feature_image}}" alt="{{title}}" />
        {{/if}}

        <h1 class="gh-title">{{title}}</h1>

        {{#if custom_excerpt}}
            <p class="gh-excerpt">{{custom_excerpt}}</p>
        {{/if}}
    </header>

    <div class="gh-content gh-canvas">
        {{content}}
    </div>

    <footer class="gh-post-footer gh-canvas">

        <div class="gh-post-authors">
            Written by {{#foreach authors}}<a href="{{url}}">{{name}}</a>{{/foreach}}
        </div>

        {{!--
        <section class="gh-post-comments">
            If you want to embed comments, this is a good place to do it!
        </section>
        --}}

    </footer>

</article>
{{/post}}


{{#contentFor "scripts"}}
<script src="{{asset "built/jquery.fitvids.js"}}"></script>
<script>
var images = document.querySelectorAll('.kg-gallery-image img');
images.forEach(function (image) {
    var container = image.closest('.kg-gallery-image');
    var width = image.attributes.width.value;
    var height = image.attributes.height.value;
    var ratio = width / height;
    container.style.flex = ratio + ' 1 0%';
});

$(document).ready(function () {
    // FitVids - start
    var $postContent = $(".gh-content");
    $postContent.fitVids();
});
</script>
{{/contentFor}}

{{!-- The #contentFor helper sends everything in it to the matching #block helper in default.hbs --}}
